@using NuGetDashboard.Models;
@model IEnumerable<AlertMailViewModel>

<div class="page secondary with-sidebar">
    <div class="page-header">
        <div class="page-header-content" id="headercontent">
            <h1 id="title">AlertMail<small>Detail</small></h1>
            <a href="/" id="backbutton" class=" back-button big page-back"></a>
        </div>
    </div>
</div>
@if (Model.Count() > 0)
{
<div style="width:800px;" class="fg-color-darken" id="AlertMail">
<table class="hovered">
    <tbody>
        <tr>
            <th>
                Alert Subject
            </th>
            <th>
                Count
            </th>
            <th>
                Component
            </th>
            <th>
                Last Alerting Time
            </th>
            <th>
                Last Action
            </th>
        </tr>
        @foreach (AlertMailViewModel item in Model)
        {
            <tr>
                <td>
                    @item.AlertSubject
                </td>
                <td>
                    @item.count
                </td>
                <td>
                    @item.Component
                </td>
                <td>
                    @item.lastTime.ToString()
                </td>
                <td>
                    @item.lastAction
                </td>
                <td>
                    @Html.ActionLink("Details", "Record_Details", new { name = item.details_ID })
                    
                </td>
                <td>
                    @Html.ActionLink("Action", "Action_Details", new { name = string.Format("{0}@{1}", item.AlertSubject, item.Component)})
                </td>
                <td>
                    @Html.ActionLink("ActionLog", "Action_Log", new { name = string.Format("{0}@{1}", item.AlertSubject, item.Component) })
                </td>
            </tr>
        }
    </tbody>
</table>
    </div>
}